# ğŸ•‹ Qibla Finder

<div align="center">
  <img src="assets/images/master_icon.png" alt="Qibla Finder Icon" width="150" height="150">
  <br>
  <h2><em>Find your direction to the Kaaba with precision and ease</em></h2>
  
  [![Android CI/CD](https://github.com/bizzkoot/Qibla_Finder/workflows/Android%20CI/CD/badge.svg)](https://github.com/bizzkoot/Qibla_Finder/actions)
  [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
  [![Android](https://img.shields.io/badge/Android-7.0+-green.svg)](https://developer.android.com/about/versions/nougat)
  [![Kotlin](https://img.shields.io/badge/Kotlin-1.9+-blue.svg)](https://kotlinlang.org/)
  
  <br>
  
  **[ğŸ“¥ Download Latest Release](https://github.com/bizzkoot/Qibla_Finder/releases/latest)** | **[ğŸ› Report Bug](https://github.com/bizzkoot/Qibla_Finder/issues)** | **[ğŸ’¡ Request Feature](https://github.com/bizzkoot/Qibla_Finder/issues)**
  
  <br>
  
  *Ever found yourself in a new city, unsure which way to face for prayer? Qibla Finder uses your phone's sensors and GPS to point you in the right direction - no more guessing or asking around!*
</div>

---

## ğŸŒŸ What Makes This App Special

<div align="center">
  <table>
    <tr>
      <td align="center" width="33%">
        <strong>ğŸ¯ Pinpoint Accuracy</strong><br>
        <em>Uses your phone's compass and GPS to calculate the exact direction to the Kaaba</em>
      </td>
      <td align="center" width="33%">
        <strong>ğŸ—ºï¸ Smart Location</strong><br>
        <em>Can't get GPS signal? No problem - manually set your location on the map</em>
      </td>
      <td align="center" width="33%">
        <strong>ğŸ“± AR Mode</strong><br>
        <em>Point your camera and see a real-time arrow showing you exactly where to face</em>
      </td>
    </tr>
    <tr>
      <td align="center">
        <strong>ğŸ§­ Compass Calibration</strong><br>
        <em>Interactive calibration to make sure your compass is spot-on</em>
      </td>
      <td align="center">
        <strong>ğŸ“ Phone Detection</strong><br>
        <em>Knows when your phone is flat or tilted - gives you the right guidance</em>
      </td>
      <td align="center">
        <strong>âš¡ Fast & Reliable</strong><br>
        <em>Works offline, loads maps quickly, and doesn't drain your battery</em>
      </td>
    </tr>
  </table>
</div>

---

## âœ¨ Latest Features (v2.3.0) ğŸ‰

<div align="center">
  <table>
    <tr>
      <td align="center" width="50%">
        <strong>ğŸ¯ Qibla Direction Line on Map</strong><br>
        <em>NEW! Real-time Qibla direction visualization on manual location map with accurate geodesic calculations</em>
      </td>
      <td align="center" width="50%">
        <strong>ğŸ“ Dynamic Zoom Button Positioning</strong><br>
        <em>Smart zoom buttons that automatically position themselves based on UI panel height across all screen densities</em>
      </td>
    </tr>
    <tr>
      <td align="center">
        <strong>ğŸ”„ Reliable Map Type Switching</strong><br>
        <em>Enhanced map switching between Street and Satellite views with improved state management and tile loading</em>
      </td>
      <td align="center">
        <strong>âš¡ Performance Optimizations</strong><br>
        <em>Faster map interactions, optimized memory usage, and smooth 60fps rendering during all operations</em>
      </td>
    </tr>
  </table>
</div>

### Previous Features (v2.2.x)
- **ğŸ”„ Manual Update Check** - Check for app updates anytime with real-time status feedback
- **ğŸ”— GitHub Integration** - Direct access to source code, bug reporting, and releases  
- **ğŸ“Š Enhanced Download Experience** - Native download manager with progress tracking
- **ğŸ“± Professional Help Center** - Comprehensive help screen with app information

---

## ğŸ“± App Screenshots

<div align="center">
  <table>
    <tr>
      <td align="center">
        <img src="assets/images/screenshots/Compass with GPS.jpg" alt="Main Compass with GPS" width="200" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <br><strong>Main Compass</strong><br>
        <em>Find your direction using GPS location</em>
      </td>
      <td align="center">
        <img src="assets/images/screenshots/AR.jpg" alt="Augmented Reality Mode" width="200" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <br><strong>AR Camera Mode</strong><br>
        <em>Point your camera for real-time guidance</em>
      </td>
      <td align="center">
        <img src="assets/images/screenshots/Compass with Manual Location.jpg" alt="Manual Location Setting" width="200" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <br><strong>Manual Location</strong><br>
        <em>Set your location when GPS is unavailable</em>
      </td>
    </tr>
    <tr>
      <td align="center">
        <img src="assets/images/screenshots/Manual Location Adjustment.jpg" alt="Location Adjustment" width="200" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <br><strong>Location Adjustment</strong><br>
        <em>Fine-tune your position on the map</em>
      </td>
      <td align="center">
        <img src="assets/images/screenshots/Calibrate Compass.jpg" alt="Compass Calibration" width="200" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <br><strong>Compass Calibration</strong><br>
        <em>Ensure accurate compass readings</em>
      </td>
      <td align="center">
        <img src="assets/images/screenshots/Help and Support.jpg" alt="Help and Support Screen" width="200" style="border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <br><strong>Help & Support</strong><br>
        <em>Check for updates, access GitHub, and get help</em>
      </td>
    </tr>
  </table>
</div>

---

## ğŸš€ Quick Start

<div align="center">
  <h3>ğŸ“¥ Download & Install in 3 Steps</h3>
</div>

### **Option 1: Download Pre-built APK (Recommended)**
1. **ğŸ“¥ Download** the latest release from [Releases](https://github.com/bizzkoot/Qibla_Finder/releases)
2. **ğŸ“± Install** directly on your Android device
3. **ğŸ¯ Start** finding your Qibla direction!

### **Option 2: Build from Source**
```bash
# 1. Clone the repository
git clone https://github.com/bizzkoot/Qibla_Finder.git
cd Qibla_Finder

# 2. Build the app
./gradlew assembleDebug

# 3. Install on your device
./gradlew installDebug
```

---

## ğŸ› ï¸ Built With Modern Tech

<div align="center">
  <table>
    <tr>
      <td align="center">
        <strong>ğŸ˜ Kotlin</strong><br>
        <em>Future of Android development</em>
      </td>
      <td align="center">
        <strong>ğŸ¨ Jetpack Compose</strong><br>
        <em>Smooth, beautiful UI animations</em>
      </td>
      <td align="center">
        <strong>ğŸ“ Google Location Services</strong><br>
        <em>Accurate GPS positioning</em>
      </td>
    </tr>
    <tr>
      <td align="center">
        <strong>ğŸ“¡ Android Sensors</strong><br>
        <em>Compass and movement detection</em>
      </td>
      <td align="center">
        <strong>ğŸ—ºï¸ OpenStreetMap</strong><br>
        <em>Free, detailed offline maps</em>
      </td>
      <td align="center">
        <strong>ğŸ“± ARCore</strong><br>
        <em>Augmented reality camera feature</em>
      </td>
    </tr>
  </table>
</div>

---

## ğŸ“‹ System Requirements

<div align="center">
  <table>
    <tr>
      <td align="center">
        <strong>ğŸ“± Android Version</strong><br>
        <em>7.0 or newer</em>
      </td>
      <td align="center">
        <strong>ğŸ” Permissions</strong><br>
        <em>Location & Camera</em>
      </td>
      <td align="center">
        <strong>âš™ï¸ Hardware</strong><br>
        <em>GPS, Compass, Motion Sensors</em>
      </td>
    </tr>
  </table>
</div>

---

## ğŸ¯ How It Works

### **App Flow & Logic**

```mermaid
flowchart TD
    A[ğŸ“± App Launch] --> B{ğŸ” Permissions Granted?}
    B -->|No| C[ğŸ“‹ Permission Screen]
    C --> D[âœ… User Grants Permissions]
    D --> E[ğŸ§­ Main Compass Screen]
    B -->|Yes| E
    
    E --> F{ğŸ“ GPS Available?}
    F -->|Yes| G[ğŸ¯ Show Qibla Direction]
    F -->|No| H[ğŸ—ºï¸ Manual Location Screen]
    H --> I[ğŸ“ User Sets Location]
    I --> J[ğŸ”„ Return to Compass]
    J --> G
    
    G --> K{ğŸ§­ Compass Status}
    K -->|âœ… Accurate| L[ğŸ¯ Display Qibla]
    K -->|âš ï¸ Needs Calibration| M[ğŸ”„ Calibration Overlay]
    K -->|âŒ Interference| N[âš ï¸ Interference Warning]
    
    L --> O{ğŸ® User Actions}
    O -->|ğŸ“± AR Mode| P[ğŸ“· AR Camera View]
    O -->|â˜€ï¸ Sun Calibration| Q[ğŸŒ… Sun Calibration]
    O -->|ğŸ—ºï¸ Manual Location| H
    O -->|â“ Help| R[ğŸ“– Troubleshooting Guide]
    
    P --> S[ğŸ”„ Return to Compass]
    Q --> S
    R --> S
    
    M --> T[ğŸ”„ Calibrate Compass]
    N --> U[ğŸš« Move Away from Metal]
    T --> G
    U --> G
    
    style A fill:#e1f5fe
    style E fill:#f3e5f5
    style G fill:#e8f5e8
    style P fill:#fff3e0
    style Q fill:#fff3e0
    style R fill:#fff3e0
```

### **Key Features Explained**

- **ğŸ¯ Pinpoint Accuracy**: Uses GPS and compass to calculate exact direction to Kaaba
- **ğŸ—ºï¸ Smart Location**: Manual location setting when GPS is unavailable
- **ğŸ“± AR Camera Mode**: Real-time camera guidance with directional arrows
- **ğŸ§­ Compass Calibration**: Interactive calibration for accuracy
- **ğŸ“ Phone Detection**: Adapts guidance based on phone orientation
- **ğŸ”„ Smart Updates**: Manual update checking with native download experience
- **ğŸ”— GitHub Integration**: Direct access to source code, issues, and releases

---

## ğŸ“Š Performance Metrics

<div align="center">
  <table>
    <tr>
      <td align="center">
        <strong>ğŸ¯ GPS Accuracy</strong><br>
        <em>Within 5m outdoors, 30m with network location</em>
      </td>
      <td align="center">
        <strong>ğŸ§­ Compass Precision</strong><br>
        <em>Within 2Â° after calibration</em>
      </td>
    </tr>
    <tr>
      <td align="center">
        <strong>ğŸ“± AR Smoothness</strong><br>
        <em>60 FPS on supported devices</em>
      </td>
      <td align="center">
        <strong>ğŸ—ºï¸ Map Speed</strong><br>
        <em>Loads in under 2 seconds</em>
      </td>
    </tr>
  </table>
</div>

---

## ğŸ§  Design Decisions

### âœ… Qibla Direction Line on Manual Map - Now Available!

**UPDATE**: We've successfully implemented the Qibla direction line on the manual location map! ğŸ‰

After careful technical analysis and implementation, the manual map now features:

1.  **ğŸ¯ Accurate Geodesic Calculations**: Uses great circle calculations to show the true shortest path on Earth's curved surface
2.  **âš¡ Real-time Updates**: Direction line updates instantly as you drag the location pin
3.  **ğŸ”„ Smart Redraw System**: Automatic redraw when needed, with manual redraw button for user control
4.  **ğŸ“± Performance Optimized**: Efficient rendering that maintains smooth 60fps interaction

**Previous Challenge Solved**: We initially avoided showing direction lines due to accuracy concerns with straight lines on 2D maps. Our new implementation uses proper geodesic mathematics to display the true great circle path to the Kaaba.

The manual map now serves as both **input** (setting your location) and **visual confirmation** (seeing the direction), while maintaining the compass and AR views as the most precise tools for final real-world orientation.

**[â¡ï¸ Read the full technical implementation details here](docs/technical/MAP_DIRECTION_LINE_ANALYSIS.md)**

---

## ğŸ“š Documentation

### **For Developers**
- [**ğŸš€ Git Push Guide**](docs/guides/GIT_PUSH_GUIDE.md) - Complete guide for pushing changes and triggering releases
- [**ğŸ“ Commit Conventions**](docs/development/COMMIT_CONVENTIONS.md) - How to write commit messages for automated versioning
- [**ğŸ¯ Release Guide**](docs/guides/RELEASE_GUIDE.md) - Understanding the automated release system
- [**ğŸ”§ GitHub Steps**](docs/guides/GitHub_Steps.md) - GitHub setup and configuration
- [**ğŸ“Š Progress Tracking**](docs/development/Progress.md) - Development progress and roadmap

### **For Users**
- [**ğŸ” Troubleshooting Guide**](docs/technical/Troubleshooting.md) - Common issues and solutions
- [**âš™ï¸ Technical Details**](docs/technical/Technical.md) - Technical implementation details
- [**ğŸ¨ UX Design**](docs/technical/UX.md) - User experience design principles

---

## ğŸ—ºï¸ Roadmap

<div align="center">
  <h3>ğŸš§ What's Coming Next</h3>
</div>

- [ ] **ğŸ¯ Better AR Experience** - More accurate and smoother camera guidance
- [ ] **ğŸ—ºï¸ Offline Maps** - Download maps so you can use the app anywhere
- [ ] **ğŸŒ Multiple Languages** - Support for Arabic, Indonesian, and more
- [ ] **ğŸ“± Home Screen Widget** - Quick Qibla direction without opening the app
- [ ] **âŒš Wear OS Support** - Use your smartwatch to find the Qibla direction

---

## ğŸ¤ Contributing

<div align="center">
  <h3>ğŸ’¡ Want to Help?</h3>
  <p>I'd love your help making this app even better!</p>
</div>

1. **ğŸ´ Fork** this repository
2. **ğŸŒ¿ Create** a new branch (`git checkout -b feature/YourAmazingIdea`)
3. **âœï¸ Make** your changes and commit them (`git commit -m 'Add your amazing feature'`)
4. **ğŸ“¤ Push** to your branch (`git push origin feature/YourAmazingIdea`)
5. **ğŸ”€ Open** a Pull Request and let's discuss your changes!

---

## ğŸš¨ Support & Help

<div align="center">
  <h3>â“ Need Help?</h3>
</div>

- **ğŸ› Found a bug?** [Open an issue](https://github.com/bizzkoot/Qibla_Finder/issues)
- **ğŸ’¡ Have a suggestion?** [Request a feature](https://github.com/bizzkoot/Qibla_Finder/issues)
- **â“ Need help?** Check the [Troubleshooting Guide](docs/technical/Troubleshooting.md)
- **ğŸ“§ Questions?** Open a GitHub issue

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

<div align="center">
  <h3>ğŸ•‹ Built with â¤ï¸ for the Muslim community</h3>
  <p><em>May this app help you find your direction to the Kaaba with ease and accuracy.</em></p>
</div>